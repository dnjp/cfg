"""""""""""""""""""""""""""""""""""""""""""""""""""
"                   defaults
"""""""""""""""""""""""""""""""""""""""""""""""""""
" set shell=/usr/local/bin/yash

"""""""""""""""""""""""""""""""""""""""""""""""""""
"                     tags
"""""""""""""""""""""""""""""""""""""""""""""""""""
" set tags=/home/daniel/src/work/martin-bidder/tags
set tags=tags

"""""""""""""""""""""""""""""""""""""""""""""""""""
"                     indentation
"""""""""""""""""""""""""""""""""""""""""""""""""""
set tabstop=8
set autoindent wrapmargin=8
set wraplen=72
set shiftwidth=8

"""""""""""""""""""""""""""""""""""""""""""""""""""
"                     visuals
"""""""""""""""""""""""""""""""""""""""""""""""""""
set nu
set nomesg
set showmode
set showmatch
set matchtime=3
" set nonumber
set number
set noflash
set ruler
set verbose
set leftright
set extended
set iclower
set searchincr
set wrapscan
set report=1

" ^V^V^V<tab>
set filec=	
set cedit=
" extended regex
set extended
set terse
set nolock
set path=.
set tildeop
set windowname

"""""""""""""""""""""""""""""""""""""""""""""""""""
"                     navigation
"""""""""""""""""""""""""""""""""""""""""""""""""""

map gg 1G
map qq :q!
map ss :w

" space-l : go to previous buffer
map  l :e #

" double space to bg vi
map    :w:suspend

" fuzzy find file in pwd tree
map  f :vs /tmp/fzffile:r!sk "zy$:q!:Goedit "zp

" fuzzy find file in git tree
map  F :vs /tmp/fzffile:r!sk -c 'git ls-files $(git rev-parse --show-toplevel)'"zy$:q!:Goedit "zp

" open file by line
" map & wb"zye::!echo % >> %:editGI:!git grep  h"zpwi7c sk >> ::editGf:l"zyt:hDIEdit + h"zp:bg


"""""""""""""""""""""""""""""""""""""""""""""""""""
"                   convenience
"""""""""""""""""""""""""""""""""""""""""""""""""""

" generate tags
map  t :!ctags -R .

" replacement
map rr :'m,'k s/

" pull up man page for word under cursor
map K wb"zyw::o:!man "zp

" use comment command from nyne
" ctrl-/ to un/comment current line
map  :.!samfile=% com

" space-ctrl-/ to un/comment current selection
map   :'m,'k!samfile=% com

" replace builtin >> command to use a+/a- commands from nyne
map >> :.!samfile=% tabstop=8 a+
map << :.!samfile=% tabstop=8 a-

" space-{>>/<<} to un/indent selection
map  >> :'m,'k!samfile=% tabstop=8 a+
map  << :'m,'k!samfile=% tabstop=8 a-


"""""""""""""""""""""""""""""""""""""""""""""""""""
"                   clipboard
"""""""""""""""""""""""""""""""""""""""""""""""""""

map  p :read ! xclip -o -sel clip
map  y :'m,'k!xclip -sel clip && xclip -o -sel clip
" map  y :E /tmp/pastefilep:.,$!xclip -sel clip 

"""""""""""""""""""""""""""""""""""""""""""""""""""
"                      git
"""""""""""""""""""""""""""""""""""""""""""""""""""

" git search for word under cursor
map g/ wb"zye::o:!git grep "zp

" git status
map gs :!git status

" git add
map gA :!git add -A

" git commit
map gc :!git commit -am '

" git push
map gp :!git push

" git blame on file
map gb :E"zy1G:edit /tmpG:read !git blame -- #:o"zp!Gwc -lI:

"""""""""""""""""""""""""""""""""""""""""""""""""""
"                   formatting
"""""""""""""""""""""""""""""""""""""""""""""""""""

" 4 space indentation
map g4 :set tabstop=4:set shiftwidth=4

" 2 space indentation
map g2 :set ts=2:set sw=2

" format document using fmt
map gF :%!fmt -s

" format paragraph using fmt
map gf !}fmt

" rust
map gr :%rustfmt

" go
map go :%!gofmt

" prettier
" map ge :%!prettier %
map ge :%!prettier --print-width 80 --prose-wrap always %
