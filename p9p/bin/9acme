#!/bin/env bash 

. $HOME/.profile

# '!' is ignored in bash
export PS1='! '

envvars() {
	export tabstop=8
	export INSIDE_ACME=true
	export PAGER=nobs
	export MANPAGER=nobs
}

setupshell() {
	acmeshell=$PLAN9/bin/rc
	# . $HOME/.profile
}

setupplumber() {
	# cat $home/lib/plumbing | 9p write plumb/rules
	9 plumber
}

setupfonts() {
	fontsrv &
	# font=/mnt/font/MesloLGS-Regular/9a/font
	font=/mnt/font/GoRegular/10a/font
	lfont=/mnt/font/GoMono/9a/font
	# font=$PLAN9/font/lucsans/unicode.8.font
}

startedwood() {
	exec edwood -a -f $font -F $lfont -l $HOME/edwood.dump
}

startacme() {
	exec acme -a -f $lfont 
}

envvars
setupshell
# setupplumber
setupfonts

# startacme
startedwood

